# Example environment configuration for the Luna backend
# Copie este arquivo para .env (ou defina no Railway) e preencha os valores.

# -------------------- UAZAPI (WhatsApp) --------------------
# Base URL da sua instância Uazapi (sem barra final)
# Ex.: https://sua-instancia.uazapi.com
UAZAPI_BASE_URL=

# Token da INSTÂNCIA (não é o admin token)
UAZAPI_TOKEN=

# Nome do header que a sua instância espera:
#   - token                (padrão recomendado e usado por você)
#   - apikey               (algumas instalações)
#   - authorization_bearer (usa Authorization: Bearer <token>)
UAZAPI_AUTH_HEADER_NAME=token

# Endpoints de envio (sua instância responde em /send/text).
# Se a sua instância usar outro caminho, ajuste aqui.
UAZAPI_SEND_TEXT_PATH=/send/text
UAZAPI_SEND_MEDIA_PATH=/send/media

# -------------------- WEBHOOK --------------------
# URL pública do seu backend (Railway → Deployments → Domains)
# Ex.: https://luna-agente-production.up.railway.app
PUBLIC_BASE_URL=

# Prefixo onde o webhook ficará exposto (sem barra final).
# Você está usando /luna-agente em produção.
WEBHOOK_PATH=/luna-agente

# Token de verificação do webhook. O Uazapi deve incluí-lo como
# parâmetro ?token=... na URL ou no header X-Webhook-Token.
WEBHOOK_VERIFY_TOKEN=

# -------------------- Postgres --------------------
# Aceita formatos comuns; o backend converte para driver assíncrono:
# - postgres://user:pass@host:5432/dbname
# - postgresql://user:pass@host:5432/dbname
# - postgresql+psycopg2://user:pass@host:5432/dbname
# - postgresql+asyncpg://user:pass@host:5432/dbname
DATABASE_URL=

# SSL no asyncpg:
#   disable            -> sem TLS (dev/local)
#   require            -> TLS com CA do sistema (default)
#   require_noverify   -> TLS sem verificação de certificado/hostname
#   verify-ca          -> verifica CA (informe DB_SSLROOTCERT)
#   verify-full        -> verifica CA + hostname (informe DB_SSLROOTCERT)
DB_SSLMODE=require
# Caminho para o arquivo da CA quando usar verify-ca / verify-full (ex.: /app/certs/root.crt)
DB_SSLROOTCERT=

# -------------------- OpenAI --------------------
# Chave do projeto e ID do Assistant a ser usado.
OPENAI_API_KEY=
ASSISTANT_ID=

# -------------------- Baserow (opcional para guardar arquivos) --------------------
# Cloud oficial: https://api.baserow.io
BASEROW_BASE_URL=
BASEROW_API_TOKEN=
